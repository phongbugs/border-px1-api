<!DOCTYPE html>
<html>

<head>
    <title>CLG's Summary</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--begin::Fonts(mandatory for all pages)-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" />
    <!--end::Fonts-->
    <!--begin::Global Stylesheets Bundle(mandatory for all pages)-->
    <link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="css/style_summary.css" rel="stylesheet" type="text/css" />
    <link href="css/portal.css" rel="stylesheet" type="text/css" />
    <style>
        @keyframes marquee {
            0% {
                transform: translateX(100%);
            }

            100% {
                transform: translateX(-100%);
            }
        }

        .scrolling-text {
            white-space: nowrap;
            overflow: hidden;
            animation: marquee 20s linear infinite;
            cursor: pointer;
        }

        .scrolling-text:hover {
            animation-play-state: paused;
        }

        .menu-link.active {
            margin-right: 0rem !important;
        }
    </style>
</head>

<body id="kt_app_body" data-kt-app-layout="dark-sidebar" data-kt-app-header-fixed="true"
    data-kt-app-sidebar-enabled="true" data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-hoverable="false"
    data-kt-app-sidebar-push-header="true" data-kt-app-sidebar-push-toolbar="true"
    data-kt-app-sidebar-push-footer="true" data-kt-app-toolbar-enabled="true" class="app-default"
    style="overflow: hidden">
    <!--begin::Theme mode setup on page load-->
    <script>var defaultThemeMode = "light"; var themeMode; if (document.documentElement) { if (document.documentElement.hasAttribute("data-bs-theme-mode")) { themeMode = document.documentElement.getAttribute("data-bs-theme-mode"); } else { if (localStorage.getItem("data-bs-theme") !== null) { themeMode = localStorage.getItem("data-bs-theme"); } else { themeMode = defaultThemeMode; } } if (themeMode === "system") { themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"; } document.documentElement.setAttribute("data-bs-theme", themeMode); }</script>
    <!--end::Theme mode setup on page load-->
    <!--begin::App-->
    <div class="d-flex flex-column flex-root app-root" id="kt_app_root">
        <!--begin::Page-->
        <div class="app-page flex-column flex-column-fluid" id="kt_app_page">
            <!--begin::Header-->
            <div id="kt_app_header" class="app-header" data-kt-sticky="true"
                data-kt-sticky-activate="{default: true, lg: true}" data-kt-sticky-name="app-header-minimize"
                data-kt-sticky-offset="{default: '200px', lg: '0'}" data-kt-sticky-animation="false">
                <!--begin::Header container-->
                <div class="app-container container-fluid d-flex align-items-stretch justify-content-between"
                    id="kt_app_header_container">
                    <!--begin::Sidebar mobile toggle-->
                    <div class="d-flex align-items-center d-lg-none ms-n3 me-1 me-md-2" title="Show sidebar menu">
                        <div class="btn btn-icon btn-active-color-primary w-35px h-35px"
                            id="kt_app_sidebar_mobile_toggle">
                            <i class="ki-duotone ki-abstract-14 fs-2 fs-md-1">
                                <span class="path1"></span>
                                <span class="path2"></span>
                            </i>
                        </div>
                    </div>
                    <!--end::Sidebar mobile toggle-->
                    <!--begin::Mobile logo-->
                    <div class="d-flex align-items-center flex-grow-0">
                        <a href="#" class="d-lg-none">
                            <img alt="Logo" src="Images/logo.png" class="w-150px" />
                        </a>
                    </div>

                    <!--end::Mobile logo-->
                    <!--begin::Header wrapper-->
                    <div class="d-flex align-items-stretch justify-content-end flex-grow-1" id="kt_app_header_wrapper">
                        <!--begin::Navbar-->
                        <div class="app-navbar flex-shrink-0">
                            <!--begin::User menu-->
                            <div class="app-navbar-item ms-1 ms-md-4 d-xxl-flex d-xl-flex d-lg-flex d-md-flex"
                                id="kt_header_user_menu_toggle">
                                Hi, <%=username%>
                            </div>
                            <!--end::User menu-->

                            <!--begin::Signout-->
                            <div class="app-navbar-item ms-1 ms-md-4">
                                <!--begin::Menu wrapper-->
                                <div onclick=" localStorage.clear();setTimeout(() => location.reload(), 1000);"
                                    class="btn btn-icon btn-custom btn-icon-muted btn-active-light btn-active-color-primary w-35px h-35px position-relative">
                                    <i class="ki-duotone ki-exit-right fs-1" title="Sign Out">
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                    </i>
                                </div>
                                <!--end::Menu wrapper-->
                            </div>
                            <!--end::Signout-->
                        </div>
                        <!--end::Navbar-->
                    </div>
                    <!--end::Header wrapper-->
                </div>
                <!--end::Header container-->
            </div>
            <!--end::Header-->
            <!--begin::Wrapper-->
            <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper" style="margin-top: 0;">
                <!--begin::Sidebar-->
                <div id="kt_app_sidebar" class="app-sidebar flex-column" data-kt-drawer="true"
                    data-kt-drawer-name="app-sidebar" data-kt-drawer-activate="{default: true, lg: false}"
                    data-kt-drawer-overlay="true" data-kt-drawer-width="225px" data-kt-drawer-direction="start"
                    data-kt-drawer-toggle="#kt_app_sidebar_mobile_toggle">
                    <!--begin::Logo-->
                    <div class="app-sidebar-logo px-5" id="kt_app_sidebar_logo">
                        <!--begin::Logo image-->
                        <a href="#">
                            <img alt="Logo" src="Images/logo.png" class="h-125px w-250px app-sidebar-logo-default" />
                        </a>
                        <!--end::Logo image-->
                        <!--begin::Sidebar toggle-->
                        
                        <div id="kt_app_sidebar_toggle"
                            class="app-sidebar-toggle btn btn-icon btn-shadow btn-sm btn-color-muted btn-active-color-primary h-35px w-35px position-absolute start-100 rotate"
                            data-kt-toggle="true" data-kt-toggle-state="active" data-kt-toggle-target="body"
                            data-kt-toggle-name="app-sidebar-collapse">
                            <i class="ki-duotone ki-black-left-line fs-1 rotate-180">
                                <span class="path1"></span>
                                <span class="path2"></span>
                            </i>
                        </div>
                        <!--end::Sidebar toggle-->
                    </div>
                    <!--end::Logo-->
                    <!--begin::Balance-->

                    <!--End::Balance-->
                    <!--begin::sidebar menu-->
                    <div class="app-sidebar-menu overflow-hidden flex-column-fluid">
                        <!--begin::Menu wrapper-->
                        <div id="kt_app_sidebar_menu_wrapper" class="app-sidebar-wrapper">
                            <!--begin::Scroll wrapper-->
                            <div id="kt_app_sidebar_menu_scroll" class="scroll-y my-3 mx-2" data-kt-scroll="true"
                                data-kt-scroll-activate="true" data-kt-scroll-height="auto"
                                data-kt-scroll-dependencies="#kt_app_sidebar_logo, #kt_app_sidebar_Balance, #kt_app_sidebar_footer"
                                data-kt-scroll-wrappers="#kt_app_sidebar_menu" data-kt-scroll-offset="5px"
                                data-kt-scroll-save-state="true">
                                <!--begin::Menu-->
                                <div class="menu menu-column menu-rounded menu-sub-indention fw-semibold fs-6"
                                    id="#kt_app_sidebar_menu" data-kt-menu="true" data-kt-menu-expand="false">
                                    <img style="width: 20px; height: 20px; margin: 0 auto" src="Images/spinner.gif"
                                        title="spinner" alt="spinner" />
                                </div>
                                <!--end::Menu-->
                            </div>
                            <!--end::Scroll wrapper-->
                        </div>
                        <!--end::Menu wrapper-->
                    </div>
                    <!--end::sidebar menu-->
                    <!--begin::Footer-->
                    <!--end::Footer-->
                </div>
                <!--end::Sidebar-->
                <!--begin::Main-->

                <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
                    <!--begin::Content wrapper-->
                    <div class="d-flex flex-column flex-column-fluid">
                        <!--begin::Toolbar-->
                        <div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
                            <!--begin::Toolbar container-->
                            <div id="kt_app_toolbar_container" class="app-container d-flex flex-stack">
                                <!--begin::Page title-->
                                <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3 mx-2 mx-sx-0">
                                    <!--begin::Title-->
                                    <h1
                                        class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">
                                        CLG's Management WLs
                                    </h1>
                                    <!--end::Title-->
                                    <!--begin::Breadcrumb-->
                                    <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                                        <!--begin::Item-->
                                        <li class="breadcrumb-item text-muted">
                                            <a href="#" class="text-muted text-hover-primary">
                                                CLG's Management WLs
                                            </a>
                                        </li>
                                        <!--end::Item-->
                                        <!--begin::Item-->
                                        <li class="breadcrumb-item">
                                            <span class="bullet bg-gray-400 w-5px h-2px"></span>
                                        </li>
                                        <!--end::Item-->
                                        <!--begin::Item-->
                                        <li class="breadcrumb-item text-muted">
                                            CLG's Management WLs
                                        </li>
                                        <!--end::Item-->
                                    </ul>
                                    <!--end::Breadcrumb-->
                                </div>
                                <!--end::Page title-->
                            </div>
                            <!--end::Toolbar container-->
                        </div>
                        <!--end::Toolbar-->
                        <!--begin::Content-->
                        <div id="kt_app_content" class="app-content flex-column-fluid">
                            <iframe id="fraMain" name="fraMain" class="h-100 w-100 scroll-y" src="7.html"></iframe>
                        </div>
                        <!--end::Content-->
                    </div>
                    <!--end::Content wrapper-->
                </div>

                <!--end:::Main-->
                <!--begin::Footer-->
                <div id="kt_app_footer" class="app-footer">
                    <!--begin::Footer container-->
                    <div
                        class="app-container container-fluid d-flex flex-column flex-md-row flex-center flex-md-stack py-3">
                        <!--begin::Copyright-->
                        <div class="text-dark order-2 order-md-1">
                            <span class="text-muted fw-semibold me-1">2024&copy;</span>
                            <a href="#" class="text-gray-800 text-hover-primary">CLG Summary</a>
                        </div>
                        <!--end::Copyright-->
                        <!--begin::Menu-->
                        <ul class="menu menu-gray-600 menu-hover-primary fw-semibold order-1" style="display: none">
                            <li class="menu-item">
                                <a href="#" target="_blank" class="menu-link px-2">About</a>
                            </li>
                            <li class="menu-item">
                                <a href="#" target="_blank" class="menu-link px-2">Support</a>
                            </li>
                        </ul>
                        <!--end::Menu-->
                    </div>
                    <!--end::Footer container-->
                </div>
                <!--end::Footer-->
            </div>
            <!--end::Wrapper-->
        </div>
        <!--end::Page-->
    </div>
    <!--end::App-->
    <!--begin::Scrolltop-->
    <div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
        <i class="ki-duotone ki-arrow-up">
            <span class="path1"></span>
            <span class="path2"></span>
        </i>
    </div>
    <div class="modal fade" id="kt_modal" tabindex="-1" aria-hidden="true">
        <!--begin::Modal dialog-->
        <div class="modal-dialog modal-dialog-centered mw-900px">
            <!--begin::Modal content-->
            <div class="modal-content">
                <!--begin::Modal header-->
                <div class="modal-header">
                    <!--begin::Modal title-->
                    <h2 id="titleModal">
                        <%=Resources.Resource.AccountInfo%>
                    </h2>
                    <!--end::Modal title-->
                    <!--begin::Close-->
                    <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
                        <i class="ki-duotone ki-cross fs-1">
                            <span class="path1"></span>
                            <span class="path2"></span>
                        </i>
                    </div>
                    <!--end::Close-->
                </div>
                <!--end::Modal header-->
                <!--begin::Modal body-->
                <div class="modal-body h-400px">
                    <div class="d-flex justify-content-center justify-content-xl-start flex-row-auto w-100">
                        <iframe class="w-100 scroll-y" style="height: 350px" name="fraModal" src="" frameborder="0"
                            scrolling="auto"></iframe>
                    </div>
                    <!--begin::Aside-->
                </div>
                <!--end::Modal body-->
            </div>
            <!--end::Modal content-->
        </div>
        <!--end::Modal dialog-->
    </div>
    <!--end::Scrolltop-->
    <!--begin::Javascript-->
    <!--begin::Global Javascript Bundle(mandatory for all pages)-->
    <script src="assets/plugins/global/plugins.bundle.js"></script>
    <script src="assets/js/scripts.bundle.js"></script>
    <!--end::Global Javascript Bundle-->
    <script>
        var mainMenuTitle = 'HOME';
        var subMenuTitle = 'CLG Management WLs';

        function getQueryString(name) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }
        function openMail(MsgUrl) {
            window.open(MsgUrl, 'mailBox', 'width=630,height=480,top=50,left=100,toolbars=no,scrollbars=no,status=no,resizable=yes');
        }
        function fetchMenuLeftJSON(callback) {
            let menuLeftData = {
                "ALL GAMES": [
                    {
                        "text": "WL Sync",
                        "href": "syncAllGame.html",
                        "iconClass": "ki-address-book",
                        "id": "AMenu"
                    },
                    {
                        "text": "All WLs Sync",
                        "href": "syncAllGameAllWLs.html",
                        "iconClass": "ki-address-book",
                        "id": "AMenu"
                    },
                ],
                "HEADER GAMES": [
                    {
                        "text": "Menu WL Sync",
                        "href": "syncHeaderGame.html",
                        "iconClass": "ki-duotone ki-chart-line-star",
                        "id": "SMenu"
                    },
                    {
                        "text": "Menu All WLs Sync",
                        "href": "syncHeaderGameAllWLs.html",
                        "iconClass": "ki-duotone ki-chart-line-star",
                        "id": "SMenu"
                    },
                    {
                        "text": "Submenu All WLs Sync",
                        "href": "syncHeaderGameSubMenuAllWLs.html",
                        "iconClass": "ki-duotone ki-chart-line-star",
                        "id": "SMenu"
                    }
                ],
                "LOBBY GAMES": [
                    {
                        "text": "WL Sync",
                        "href": "syncLobbyGame.html",
                        "iconClass": "ki-duotone ki-user-square",
                        "id": "MMenu"
                    },
                    {
                        "text": "All WLs Sync",
                        "href": "syncLobbyGameAllWLs.html",
                        "iconClass": "ki-duotone ki-user-square",
                        "id": "MMenu"
                    }
                ],
                "SP DOCS": [
                    {
                        "text": "Member site",
                        "href":`CryptoJS.AES.decrypt(
                                'U2FsdGVkX1+a3TY2Zu0/de1UczozmFhcFOIEWplCLQZK5aUhXkjz9byTbbcNyRLwfua4m6pM0z0dSa8SZ9GU3OfuhktX/f71qqjSJSD/q4jXMGwD/8PRL0jh4UYH9rKH0b0kpUvTY37G4ZMGan+7ZVLITd2JdqVMePax5JynQLY4KSyqq2qljqZeW2LzeyrN',
                                location.hostname
                                ).toString(CryptoJS.enc.Utf8)`,
                        "iconClass": "ki-duotone ki-user-square",
                        "id": "MMenu"
                    },
                    {
                        "text": "Agent site",
                        "href": `CryptoJS.AES.decrypt(
                                'U2FsdGVkX19qOAsLt5+SfyPMtkBhO3XTs7QSOhb5078R/glbOgg9TZYFmiR9IHIYmHKvzI+XZv+M5ebEuwSE5dgKMDODztOd5WOGn7/QaifVg8Bg530blvBJowlGfpzWkhXCT0TzgUMygQtLoPPw+vKLXYv3tqEuocf0G11XpxmciG89gUvWQxCzU4unvpg8',
                                location.hostname
                                ).toString(CryptoJS.enc.Utf8)`,
                        "iconClass": "ki-duotone ki-user-square",
                        "id": "MMenu"
                    },
                ]
            }
            try {
                localStorage.setItem('menuLeftData', JSON.stringify(menuLeftData))
                callback(menuLeftData)
            }
            catch (e) {
                console.log('error at fetchMenuLeftJSON():' + e.message)
                alert(e);
                localStorage.setItem('menuLeftData', {})
                callback({})
            }
        }
        // main function 
        $().ready(function () {
            try {
                //drawMenuLeft(JSON.parse(localStorage.getItem('menuLeftData')))
                $('#kt_header_user_menu_toggle').text('Hi, ' + localStorage.getItem('username'))
                fetchMenuLeftJSON((menuLeftData => drawMenuLeft(menuLeftData)))
                $("iframe[name='fraMain']").on('load', function () {
                    if ($('iframe[name=fraMain').attr('src') != 'about:blank') {
                        $('#kt_app_toolbar_container').find('h1').text(subMenuTitle)
                        $('#kt_app_toolbar_container ul li:eq(0)').text(mainMenuTitle)
                        $('#kt_app_toolbar_container ul li:eq(1)').show()
                        $('#kt_app_toolbar_container ul li:eq(2)').text(subMenuTitle)
                    }
                });
                $('#marquee-user a').click(function () {
                    let href = $(this).attr('href');
                    console.log(href)
                    $('iframe[name=fraMain').attr('src', href);
                })
            }
            catch (err) {
                console.log(err)
            }
        })

        function getHref(href) {
            let levelAccount = $('#txtLevelAccount').val()
            if (href.indexOf('..') == -1)
                href = levelAccount + '/' + href
            else
                href = href.substring(3);
            return href
        }
        function clickToMenu(mainMenuText, subMenuText, href, e) {
            mainMenuTitle = mainMenuText;
            subMenuTitle = subMenuText;
            $('#kt_app_toolbar_container').find('h1').text('')
            $('#kt_app_toolbar_container ul li:eq(0)').text('')
            $('#kt_app_toolbar_container ul li:eq(1)').hide()
            $('#kt_app_toolbar_container ul li:eq(2)').text('')
            $('iframe[name=fraMain').attr('src', 'about:blank');
            setTimeout(function () {
                $('iframe[name=fraMain').attr('src', href);
            }, 30);
            $('a.menu-link').removeClass('active')
            $(e).addClass('active')
            KTDrawer.getInstance($("#kt_app_sidebar")[0]).hide();
        }
        function openMenuPageToNewTab(href, e) {
            window.open(href, '_blank')
        }
        function drawMenuLeft(menuLeftData) {
            let mainMenuItems = ``;
            let menuItemDashboard = `
                    <div data-kt-menu-trigger="click" class="menu-item here menu-accordion" onclick="clickToMenu('HOME','CLG MANAGEMENT WLs', '7.html', this)">
                        <span class="menu-link">
                            <span class="menu-icon">
                                <i class="ki-duotone ki-element-11 fs-2">
                                    <span class="path1"></span>
                                    <span class="path2"></span>
                                    <span class="path3"></span>
                                    <span class="path4"></span>
                                </i>
                            </span>
                            <span class="menu-title">CLG MANAGEMENT WLs</span>
                        </span>
                    </div>`
            mainMenuItems += menuItemDashboard
            for (var key in menuLeftData) {
                let subMenuItems = ``
                menuLeftData[key].forEach((record) => {
                    var href = record.href.replace('\\u0026', '&');
                    var text = record.text.replace('\\u0026', '&');
                    subMenuItems += `
                        <div class="menu-item">
                            <a title="${getHref(href)}" href="#" class="menu-link" onclick="clickToMenu('${key}','${text}', '${href}', this)">
                                <span class="menu-bullet">
                                    <span class="bullet bullet-dot"></span>
                                </span>
                                <span class="menu-title">${text}</span>
                                <button title="open new tab" type="button" onclick="openMenuPageToNewTab('${href}', this)" class="btn btn-icon btn-sm h-auto btn-color-gray-400 btn-active-color-primary justify-content-end">
                                    <i class="ki-duotone ki-exit-right-corner fs-2">
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                    </i>
                                </button>
                            </a>
                            
                        </div>`
                })

                mainMenuItems += `
                    <div data-kt-menu-trigger="click" class="menu-item menu-accordion">
                        <span class="menu-link">
                            <span class="menu-icon">
                                <i class="ki-duotone ${menuLeftData[key][0].iconClass} fs-2">
                                    <span class="path1"></span>
                                    <span class="path2"></span>
                                    <span class="path3"></span>
                                </i>
                            </span>
                            <span class="menu-title">${key}</span>
                            <span class="menu-arrow"></span>
                        </span>
                        <!--begin:Menu sub-->
                        <div class="menu-sub menu-sub-accordion" kt-hidden-height="209" style="display: none; overflow: hidden;">
                            ${subMenuItems}
                        </div>
                        <!--end:Menu sub-->
                    </div>`
                //console.log(key)
            }
            $('[id="#kt_app_sidebar_menu"]').html(mainMenuItems)
        }
        function drawMMessage(message) {
            $('.marquee-message a').html(message)
        }
        function openModal(title, srcIframe) {
            var modalEl = document.querySelector('#kt_modal');
            $('#titleModal').text(title)
            $('iframe[name=fraModal').attr('src', srcIframe);
            if (!modalEl)
                return;
            var modal = new bootstrap.Modal(modalEl);
            modal.show();
        }
    </script>
</body>

</html>
